{"ast":null,"code":"var _jsxFileName = \"/home/praneethkumar/hackathon/qpm/src/login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Container, TextField, Button, MenuItem, Typography, Paper, Box } from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\"; // Import axios for API calls\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [userType, setUserType] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n  const handleLogin = async () => {\n    if (!username || !password || !userType) {\n      alert(\"Please fill in all fields!\");\n      return;\n    }\n    try {\n      const response = await axios.post(\"http://localhost:5000/api/v1/users/login\", {\n        username,\n        password,\n        role: userType\n      });\n      if (response.status === 200) {\n        const {\n          token\n        } = response.data;\n        localStorage.setItem(\"token\", token); // Store token\n        alert(`Logged in as ${userType}!`);\n        if (userType === \"Admin\") {\n          navigate(\"/question-management\");\n        } else if (userType === \"Faculty\") {\n          navigate(\"/faculty-dashboard\");\n        } else {\n          navigate(\"/student-dashboard\");\n        }\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Login failed:\", error);\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Login failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      minHeight: \"100vh\",\n      backgroundColor: \"#f5f7fa\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"xs\",\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 6,\n        sx: {\n          padding: \"30px\",\n          borderRadius: \"12px\",\n          textAlign: \"center\",\n          backgroundColor: \"#ffffff\",\n          boxShadow: \"0px 4px 20px rgba(0, 0, 0, 0.1)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          gutterBottom: true,\n          sx: {\n            color: \"#1976d2\"\n          },\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          select: true,\n          fullWidth: true,\n          label: \"Select Role\",\n          value: userType,\n          onChange: e => setUserType(e.target.value),\n          margin: \"normal\",\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            value: \"Student\",\n            children: \"Student\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: \"Faculty\",\n            children: \"Faculty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: \"Admin\",\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Username\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          margin: \"normal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Password\",\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          margin: \"normal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          fullWidth: true,\n          onClick: handleLogin,\n          sx: {\n            marginTop: \"20px\",\n            borderRadius: \"6px\",\n            padding: \"10px\"\n          },\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"XPbdTgMn+u4SfGL56AG74JNFZ3o=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Container","TextField","Button","MenuItem","Typography","Paper","Box","useNavigate","axios","jsxDEV","_jsxDEV","Login","_s","userType","setUserType","username","setUsername","password","setPassword","navigate","handleLogin","alert","response","post","role","status","token","data","localStorage","setItem","error","_error$response","_error$response$data","console","message","sx","display","justifyContent","alignItems","minHeight","backgroundColor","children","maxWidth","elevation","padding","borderRadius","textAlign","boxShadow","variant","gutterBottom","color","fileName","_jsxFileName","lineNumber","columnNumber","select","fullWidth","label","value","onChange","e","target","margin","type","onClick","marginTop","_c","$RefreshReg$"],"sources":["/home/praneethkumar/hackathon/qpm/src/login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Container,\n  TextField,\n  Button,\n  MenuItem,\n  Typography,\n  Paper,\n  Box\n} from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\"; // Import axios for API calls\n\nconst Login = () => {\n  const [userType, setUserType] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleLogin = async () => {\n    if (!username || !password || !userType) {\n      alert(\"Please fill in all fields!\");\n      return;\n    }\n\n    try {\n    const response = await axios.post(\"http://localhost:5000/api/v1/users/login\", {\n        username,\n        password,\n        role: userType,\n      });\n\n      if (response.status === 200) {\n        const { token } = response.data;\n        localStorage.setItem(\"token\", token); // Store token\n        alert(`Logged in as ${userType}!`);\n\n        if (userType === \"Admin\") {\n          navigate(\"/question-management\");\n        } else if (userType === \"Faculty\") {\n          navigate(\"/faculty-dashboard\");\n        } else {\n          navigate(\"/student-dashboard\");\n        }\n      }\n    } catch (error) {\n      console.error(\"Login failed:\", error);\n      alert(error.response?.data?.message || \"Login failed\");\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        minHeight: \"100vh\",\n        backgroundColor: \"#f5f7fa\",\n      }}\n    >\n      <Container maxWidth=\"xs\">\n        <Paper\n          elevation={6}\n          sx={{\n            padding: \"30px\",\n            borderRadius: \"12px\",\n            textAlign: \"center\",\n            backgroundColor: \"#ffffff\",\n            boxShadow: \"0px 4px 20px rgba(0, 0, 0, 0.1)\",\n          }}\n        >\n          <Typography variant=\"h4\" gutterBottom sx={{ color: \"#1976d2\" }}>\n            Login\n          </Typography>\n\n          <TextField\n            select\n            fullWidth\n            label=\"Select Role\"\n            value={userType}\n            onChange={(e) => setUserType(e.target.value)}\n            margin=\"normal\"\n          >\n            <MenuItem value=\"Student\">Student</MenuItem>\n            <MenuItem value=\"Faculty\">Faculty</MenuItem>\n            <MenuItem value=\"Admin\">Admin</MenuItem>\n          </TextField>\n\n          <TextField\n            fullWidth\n            label=\"Username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            margin=\"normal\"\n          />\n\n          <TextField\n            fullWidth\n            label=\"Password\"\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            margin=\"normal\"\n          />\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            fullWidth\n            onClick={handleLogin}\n            sx={{ marginTop: \"20px\", borderRadius: \"6px\", padding: \"10px\" }}\n          >\n            Login\n          </Button>\n        </Paper>\n      </Container>\n    </Box>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}